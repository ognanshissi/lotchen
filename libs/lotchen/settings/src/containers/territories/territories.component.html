<div class="flex justify-between">
  <div>
    <tas-title>Territoires</tas-title>
    <tas-text class="text-gray-500">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias,
      architecto dolores eum facere fugiat id ipsam iure
    </tas-text>
  </div>

  <div class="flex space-x-3">
    <button tas-raised-button color="primary" (click)="openAddDialog()">
      <tas-icon iconSize="md" iconName="feather:plus"></tas-icon>
      Ajouter un territoire
    </button>

    <button tas-outlined-button color="accent">
      <tas-icon iconName="feather:download"></tas-icon>
      Importer des territoires
    </button>
  </div>
</div>

<!-- Table -->
<tas-card class="mt-4">
  <!--  <card-header>-->
  <!--    <div class="flex justify-between">-->
  <!--      <div>-->
  <!--        <tas-title>Liste des territoires</tas-title>-->
  <!--        <tas-text class="text-sm text-gray-400">{{ territories()?.value?.length || 0 }} territoire(s)</tas-text>-->
  <!--      </div>-->
  <!--      <div class="flex space-x-2 items-center justify-center">-->
  <!--        <div>-->
  <!--          <tas-form-field class="w-[500px]">-->
  <!--            <tas-label class="sr-only">Recherche</tas-label>-->
  <!--            <input-->
  <!--              type="search"-->
  <!--              tasInput-->
  <!--              size="small"-->
  <!--              placeholder="Rechercher un territoire..."-->
  <!--            />-->
  <!--          </tas-form-field>-->
  <!--        </div>-->

  <!--        <button tas-button iconButton>-->
  <!--          <tas-icon iconName="refresh" class="text-gray-500"></tas-icon>-->
  <!--        </button>-->

  <!--        <button tas-button iconButton color="primary">-->
  <!--          <tas-icon iconName="feather:filter" class="text-gray-500"></tas-icon>-->
  <!--        </button>-->

  <!--      </div>-->
  <!--    </div>-->
  <!--  </card-header>-->

  <tas-table
    [title]="'Liste des territoires'"
    [data]="territories().value ?? []"
    identifierField="id"
    [isLoading]="territories().isLoading"
  >
    <ng-template #header>
      <tr>
        <th rowSelectionMaster></th>
        <th>Nom</th>
        <th>Territoire parent</th>
        <th>Territoires descendants</th>
        <th>Créé par</th>
        <th>Date de création</th>
        <th>Dernière modification</th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template #body let-item>
      <tr>
        <td rowSelectionItem></td>
        <td>
          <a tas-text-button [routerLink]="[item.id]" color="primary"
            >{{ item.name }}
          </a>
        </td>
        <td>
          <span class="bg-gray-200 rounded-full px-2 py-1">{{
            item.parentInfo ? item.parentInfo.name : 'N/A'
          }}</span>
        </td>
        <td></td>
        <td>
          {{ item.createdBy ? item.createdBy.fullName : 'N/A' }}
        </td>
        <td>{{ item.createdAt | dateTimeAgo }}</td>
        <td>{{ item.createdAt | dateTimeAgo }}</td>
        <td tasTableItemAction>
          <button tas-outlined-button color="primary">Consulter</button>
        </td>
      </tr>
    </ng-template>
  </tas-table>
</tas-card>
